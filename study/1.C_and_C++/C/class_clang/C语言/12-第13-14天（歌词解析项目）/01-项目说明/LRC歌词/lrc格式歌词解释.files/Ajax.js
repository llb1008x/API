var Fe=Fe||{version:"20080809",emptyFn:function(){}};Fe.Ajax={};Fe.Ajax.request=function(B,C,A){if(typeof C=="object"&&C){A=C;C=null}else{if(typeof C=="function"){A=A||{};A.onsuccess=C;C=null}}var D=new FeAjax(A);D.request(B,C);return D};function FeAjax(B){this.url="";this.data="";this.async=true;this.username="";this.password="";this.method="GET";if(typeof B=="object"&&B){for(var A in B){this[A]=B[A]}}}FeAjax.prototype.request=function(A,F){var E=this,C=FeAjax._getPool(),G=C.xhr;C.active=true;E.url=A;if(typeof F=="string"&&F){E.data=F}if(typeof E.onexecute=="function"){E.onexecute(G)}try{if(!E.username){G.open(E.method,E.url,E.async)}else{G.open(E.method,E.url,E.async,E.username,E.password)}if(E.async){G.onreadystatechange=D}if(E.method.toUpperCase()=="POST"){G.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}console.log(E.data);G.send(E.data)}catch(B){if(typeof E.onerror=="function"){E.onerror(B)}}if(!E.async){D()}function D(){if(G.readyState==4){try{G.status}catch(H){if(typeof E.ondisconnect=="function"){E.ondisconnect(G)}C.active=false;return }if(typeof E["on"+G.status]=="function"){E["on"+G.status](G)}if(G.status==200&&G.statusText.toLowerCase()=="ok"){if(typeof E.onsuccess=="function"){E.onsuccess(G)}}else{if(typeof E.onfailure=="function"){E.onfailure(G)}}C.active=false;G.onreadystatechange=function(){}}}};FeAjax._xhrpools=[];FeAjax._getPool=function(){var C=this._xhrpools;for(var B=null,A=0;A<C.length;A++){B=C[A];if(!B.active){break}}if(A>=C.length){B={active:false,xhr:FeAjax._getXhr()};C[C.length]=B}return B};FeAjax._getXhr=function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else{if(window.ActiveXObject){var C=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","Msxml2.XMLHTTP","MSXML.XMLHttp","Microsoft.XMLHTTP"];for(var B=0;C[B];B++){try{return new ActiveXObject(C[B])}catch(A){}}throw new Error("Your browser do not support XMLHttp")}}};Fe.Ajax.post=function(A,B,C){return this.request(A,B,{method:"POST",onsuccess:C})};Fe.Ajax.get=function(A,B){return this.request(A,B)};Fe.String={};Fe.String.parseQuery=function(D,C){var B=new RegExp("(^|&|\\?|#)"+C+"=([^&]*)(&|$)","i");var A=D.match(B);if(A){return A[2]}return null};Fe.Ajax.sio=function(D,H){if(!D||typeof D!="string"){throw new Error("invalid url parameter!")}var G=document.createElement("SCRIPT");var F=Fe.String.parseQuery(D,"callback");if(F===null){var C=false;G.onreadystatechange=G.onload=function(){if(C){return false}if(G.readyState=="loaded"||G.readyState=="complete"){C=true;try{H()}finally{if(G.parentNode){G.parentNode.removeChild(G)}G.onreadystatechange=null;G.onload=null;G=null}}}}else{var B="CB"+Math.floor(Math.random()*2147483648).toString(36);D=D.replace(/(&|\?)callback=([^&]*)(&|$)/,"callback="+B);window[B]=function(){try{var I=(H||window[F]);I.apply(null,arguments)}finally{if(G.parentNode){G.parentNode.removeChild(G)}G=null;window[B]=null}}}G.src=D;G.type="text/javascript";var E=document.getElementsByTagName("HEAD")[0];if(!E){var A=document.getElementsByTagName("body")[0];E=document.createElement("head");A.parentNode.insertBefore(E,A)}E.insertBefore(G,E.firstChild)};